Network File Shares and Permissions
In this tutorial, file folders will be created within the domain controller, security groups will be created and permissions for users will be set for access

Environments and Technologies Used
Microsoft Azure (Virtual Machines/Compute)
Remote Desktop
Operating Systems Used
Windows 10 (21H2)
Ubuntu Server 20.04
High-Level Steps
Create some sample file shares with various permissions
Attempt to access file shares as a normal user
Create an “ACCOUNTANTS” Security Group, assign permissions, an test access


Create some sample file shares with various permissions
To begin, some folders will be created and they will each get different permissions. Within the domain controller the following folders will be created within the c-drive.  (“read-access”, “write-access”, “no-access”, “accounting”). 




















Now that the folders have been created, permissions can be set. The “read-access” folder will get its permissions set first. Right click the “read-access” folder then click on “properties”. 



















Within the “Properties” screen, click on the “Sharing” tab on the top left of the screen then click on “Share…” in the middle of the screen. 




















A “Network access” screen will pop-up next. Within this screen,  type in “domain users” in the dropdown text box next to “Add” then click on “Add”.




















Once clicked, “Domain Users” will appear in the box below. The permission level has already been set to “Read” so no changes need to be made. Click on “Share” on the bottom right hand corner.





















The “Network access” screen will appear again with the message “Your folder is shared”. Click on “Done” in the bottom right hand corner of the screen. 


















The same steps will be repeated for the remaining folders. Right click the “write-access” folder then click on “properties”. 





















Within the “Properties” screen, click on the “Sharing” tab on the top left of the screen then click on “Share…” in the middle of the screen. 


















The “Network access” screen will pop-up next. Within this screen,  type in “domain users” in the dropdown text box next to “Add” then click on “Add”.












































Click on the drop down menu next to “Read” and select “Read/Write”. Afterwards, Click on “Share” on the bottom right hand corner.








































The “Network access” screen will appear again with the message “Your folder is shared”. Click on “Done” in the bottom right hand corner of the screen. 





















Permissions will now be given to the “no-access” folder. The “Read/Write” permissions will be given to domain admin users but will not be given to normal users. Because permissions will not be given to normal users, they will not be able to access this folder. The pictures below show all the steps. 











































































































The “accounting” folder will not be shared for now. Now that all the folders have been created and permissions have been set, the next section will cover what a normal user on the network will experience when accessing these folders. 

Attempt to access file shares as a normal user

As a normal domain user on the network, these folders will be accessed. This will be simulated using a virtual machine that is connected to the network. By typing “\\dc-1” in the search bar within “File Explorer” and pressing enter, the folders that are shared through the network will appear. 


































The“read-access” folder can be accessed by the user, but when the user tries to create something within this folder, it is denied. 

























The “write-access” folder can be accessed by the user and the user can create contents within it as shown below.








































Earlier, permissions for the “no-access” folder were given to domain admins, not normal users. So when the “no-access” folder is clicked, the access is denied. 










































The “accounting” folder does not show up here because it is not shared within the network.  In the next section a “ACCOUNTANTS” security group will be created and assigned permissions so that the accounting folder can be accessed. 

Create an “ACCOUNTANTS” Security Group, assign permissions, an test access

To begin, the Active directory needs to be accessed within the domain controller in order to create the security group. Open “Active Directory Users and Computers” by using the Windows search bar on the bottom left corner of the screen and typing “Active Directory” and clicking on the application.  

































Within this application, a folder named “_GROUPS” will be created. right click the “mydomain.com” section and select “New” then click on “Organizational Unit”. 









































A “New Object - Organizational Unit” screen will show up. Within this screen, in the textbox under “Name” the organizational unit can will be given the name “_GROUPS”. After typing the name of the OU, Click on “OK” on the bottom of the screen. 








































Within this “_GROUPS” folder, a new group named “ACCOUNTANTS” will be created. Within the “_GROUPS” folder, right click and select “New” then click on “Group”.





















A “New Object - Group” screen will appear. Within this screen in the textbox under “Group name:” type in “ACCOUNTANTS”. Afterwards, click “OK” on the bottom right hand corner of the screen. 


















Now the “ACCOUNTANTS” security group will appear in the “_GROUPS” folder. 




















Permissions in the “accounting” folder that was created earlier will now be set to give access to any member in the “ACCOUNTANTS” security group. Within the domain controller, right click the “accounting” folder within the “Windows (C:)” drive and click on “Properties”



















Within the “Properties” screen, click on the “Sharing” tab on the top left of the screen then click on “Share…” in the middle of the screen. 










































The “Network access” screen will pop-up next. Within this screen,  type in “accountants” in the dropdown text box next to “Add” then click on “Add”.





















Click on the drop down menu next to “Read” and select “Read/Write”. Afterwards, Click on “Share” on the bottom right hand corner.



















The “Network access” screen will appear again with the message “Your folder is shared”. Click on “Done” in the bottom right hand corner of the screen. 






















Now that permissions have been given, a normal user will attempt to access this folder through the network. This should fail since no users have been added to the “ACCOUNTANTS” group. 


















The normal user will now be added to the “ACCOUNTANTS” security group. Within “Active Directory Users and Computers” click on the “ACCOUNTANTS” security group in the “_GROUPS” folder. A “Properties” screen will show up. Within this screen, click on the 
“Members” tab on the top left corner of the screen. 









































Click on “Add…” on the bottom left corner. In this section a normal user will be selected to be apart of the “ACCOUNTANTS” group. The user “bawa.bib” which was generated using Powershell will be selected. Type the name of the user in the textbox under “Enter the object names to select” section, then click on “Check Names” on the right hand corner of the screen. Afterwards, click “OK” on the bottom of the screen. 

	




































The “Properties” screen will show up again. If done correctly, a new user has been added to the group as a member. Click on “Apply” then click on “OK” on the bottom of the screen. 










































Now, if the added user attempts to access the “accounting” folder within the network, it will be successful. 























This concludes this network shares and permissions tutorial. 						
